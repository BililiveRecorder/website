---
# npx ts-node ./scripts/cdn-dns-scan.ts
# 粘贴到这里之前格式化一下，用 2 个空格，方便 git diff
cdn_dns_data: {
  "time": "2022/4/26",
  "dns": {
    "c1--cn-gotcha01.bilivideo.com": {
      "ipv4": 10,
      "ipv6": 0
    },
    "d1--cn-gotcha01.bilivideo.com": {
      "a.w.bilicdn1.com": {
        "ipv4": 8,
        "ipv6": 8
      }
    },
    "d1--cn-gotcha02.bilivideo.com": {
      "d1--cn-gotcha02.bilivideo.com.hdlvcloud.ks-cdn.com": {
        "s03-ipv6.gslb.ksyuncdn.com": {
          "s03-ipv6-yunfan.gslb.borui.yunfancdn.net": {
            "ipv4": 5,
            "ipv6": 2
          }
        }
      }
    },
    "d1--cn-gotcha102.bilivideo.com": {
      "d1--cn-gotcha102.bilivideo.com.hlsvcloud.ks-cdn.com": {
        "k12.gslb.ksyuncdn.com": {
          "k12-yunfan.gslb.borui.yunfancdn.net": {
            "ipv4": 2,
            "ipv6": 0
          }
        }
      }
    },
    "d1--cn-gotcha202.bilivideo.com": {
      "d1--cn-gotcha202.bilivideo.com.hlsvcloud.ks-cdn.com": {
        "k1-ipv6.gslb.ksyuncdn.com": {
          "k1-ipv6-yunfan.gslb.borui.yunfancdn.net": {
            "ipv4": 1,
            "ipv6": 2
          }
        }
      }
    },
    "c1--cn-gotcha03.bilivideo.com": {
      "c1--cn-gotcha03.bilivideo.com.rtmpv4.pilidns.com": {
        "c1--cn-gotcha03.bilivideo.com.w.alikunlun.net": {
          "ipv4": 4,
          "ipv6": 2
        }
      }
    },
    "d1--cn-gotcha03.bilivideo.com": {
      "d1--cn-gotcha03.bilivideo.com.rtmpv4.pilidns.com": {
        "d1--cn-gotcha03.bilivideo.com.w.cdngslb.com": {
          "ipv4": 4,
          "ipv6": 2
        }
      }
    },
    "d1--cn-gotcha103.bilivideo.com": {
      "d1--cn-gotcha103.bilivideo.com.rtmpv4.pilidns.com": {
        "d1--cn-gotcha103.bilivideo.com.w.cdngslb.com": {
          "ipv4": 2,
          "ipv6": 2
        }
      }
    },
    "d1--cn-gotcha203.bilivideo.com": {
      "d1--cn-gotcha203.bilivideo.com.w.alikunlun.com": {
        "d1--cn-gotcha203.bilivideo.com.w.alikunlun.com.qr.uuhimalayanqm.com": {
          "ipv4": 8,
          "ipv6": 2
        }
      }
    },
    "d1--cn-gotcha04.bilivideo.com": {
      "4877.liveplay.myqcloud.com": {
        "9050520.pack.tcdnlive.com": {
          "d1--cn-gotcha04.bilivideo.com.l5.sched.dcloudlive.com": {
            "ipv4": 1,
            "ipv6": 0
          }
        }
      }
    },
    "d1--cn-gotcha104.bilivideo.com": {
      "hls.4877.liveplay.myqcloud.com": {
        "txy.wshls.acgvideo.com.tcdnlive.com": {
          "txy.wshls.acgvideo.com.l5-dk.sched.dcloudlive.com": {
            "ipv4": 1,
            "ipv6": 2
          }
        }
      }
    },
    "d1--cn-gotcha204.bilivideo.com": {
      "txy-fmp4hls.bilivideo.com.livecdn.liveplay.myqcloud.com": {
        "d1--cn-gotcha204.bilivideo.com.tcdnlive.com": {
          "d1--cn-gotcha204.bilivideo.com.sched.l11.tdnsv5.com": {
            "ipv4": 2,
            "ipv6": 0
          }
        }
      }
    },
    "d1--cn-gotcha05.bilivideo.com": {
      "d1--cn-gotcha05.bilivideo.com.wsdvs.com": {
        "ipv4": 1,
        "ipv6": 0
      }
    },
    "d1--cn-gotcha105.bilivideo.com": {
      "d1--cn-gotcha105.bilivideo.com.wsdvs.com": {
        "ipv4": 1,
        "ipv6": 0
      }
    },
    "d1--cn-gotcha06.bilivideo.com": {
      "d1--cn-gotcha06.bilivideo.com.trpcdn.net": {
        "live-bili.v.trpcdn.net": {
          "ipv4": 9,
          "ipv6": 6
        }
      }
    },
    "d1--cn-gotcha106.bilivideo.com": {
      "d1--cn-gotcha106.bilivideo.com.trpcdn.net": {
        "live-bili.v.trpcdn.net": {
          "ipv4": 9,
          "ipv6": 6
        }
      }
    },
    "d1--cn-gotcha206.bilivideo.com": {
      "d1--cn-gotcha206.bilivideo.com.trpcdn.net": {
        "live-bili.v.trpcdn.net": {
          "ipv4": 9,
          "ipv6": 6
        }
      }
    },
    "d1--cn-gotcha07.bilivideo.com": {
      "d1--cn-gotcha07.bilivideo.com.a.bcelive.com": {
        "bcelive.jomodns.com": {
          "ipv4": 1,
          "ipv6": 0
        }
      }
    },
    "c1--cn-gotcha08.bilivideo.com": {
      "c1--cn-gotcha08.bilivideo.com.c.cdnhwc3.com": {
        "hcdnl.pullbz.east.gslb.c.cdnhwc2.com": {
          "ipv4": 8,
          "ipv6": 8
        }
      }
    },
    "d1--cn-gotcha08.bilivideo.com": {
      "d1--cn-gotcha08.bilivideo.com.c.cdnhwc3.com": {
        "hcdnl.pullbz.gslb.c.cdnhwc2.com": {
          "ipv4": 4,
          "ipv6": 4
        }
      }
    },
    "d1--cn-gotcha108.bilivideo.com": {
      "d1--cn-gotcha108.bilivideo.com.c.cdnhwc3.com": {
        "hcdnl.pullbz.gslb.c.cdnhwc2.com": {
          "ipv4": 4,
          "ipv6": 4
        }
      }
    },
    "c1--cn-gotcha208.bilivideo.com": {
      "c1--cn-gotcha208.bilivideo.com.04f6a54d.c.cdnhwc1.com": {
        "biliv7cold.c.cdnhwc2.com": {
          "ipv4": 8,
          "ipv6": 8
        }
      }
    },
    "d1--cn-gotcha208.bilivideo.com": {
      "d1--cn-gotcha208.bilivideo.com.c.cdnhwc1.com": {
        "biliv.d.cdn.10086.cn": {
          "ipv4": 8,
          "ipv6": 4
        }
      }
    },
    "d1--cn-gotcha09.bilivideo.com": {
      "d1--cn-gotcha09.bilivideo.com.w.alikunlun.net": {
        "ipv4": 4,
        "ipv6": 0
      }
    },
    "d1--cn-gotcha209.bilivideo.com": {
      "d1--cn-gotcha209.bilivideo.com.w.alikunlun.net": {
        "ipv4": 4,
        "ipv6": 0
      }
    },
    "d1--cn-gotcha11.bilivideo.com": {
      "d1--cn-gotcha11.bilivideo.com.live-play.galileo.jcloud-cdn.com": {
        "live-sched.jcloud-cdn.com": {
          "ipv4": 1,
          "ipv6": 0
        }
      }
    },
    "d1--cn-gotcha111.bilivideo.com": {
      "d1--cn-gotcha111.bilivideo.com.live-play.galileo.jcloud-cdn.com": {
        "live-sched.jcloud-cdn.com": {
          "ipv4": 1,
          "ipv6": 0
        }
      }
    },
    "d1--cn-gotcha211.bilivideo.com": {
      "d1--cn-gotcha211.bilivideo.com.vod.galileo.jcloud-cdn.com": {
        "bfn-sched.jcloud-cdn.com": {
          "ipv4": 1,
          "ipv6": 0
        }
      }
    },
    "d1--ov-gotcha102.bilivideo.com": {
      "d1--ov-gotcha102.bilivideo.com.hlsvcloud.ks-cdn.com": {
        "k1-bz-lln.gslb.ksyuncdn.com": {
          "ipv4": 2,
          "ipv6": 0
        }
      }
    },
    "d1--ov-gotcha04.bilivideo.com": {
      "d1--ov-gotcha04.bilivideo.com.liveplay.myqcloud.com": {
        "tdns.l3.sched.dcloudlive.com": {
          "ipv4": 11,
          "ipv6": 0
        }
      }
    },
    "d1--ov-gotcha104.bilivideo.com": {
      "d1--ov-gotcha104.bilivideo.com.liveplay.myqcloud.com": {
        "tdns.l3.sched.dcloudlive.com": {
          "ipv4": 11,
          "ipv6": 0
        }
      }
    },
    "d1--ov-gotcha05.bilivideo.com": {
      "d1--ov-gotcha05.bilivideo.com.wsdvs.com": {
        "ipv4": 1,
        "ipv6": 0
      }
    },
    "d1--ov-gotcha105.bilivideo.com": {
      "d1--ov-gotcha105.bilivideo.com.wsdvs.com": {
        "ipv4": 1,
        "ipv6": 0
      }
    },
    "d1--ov-gotcha06.bilivideo.com": {
      "d1--ov-gotcha06.bilivideo.com.trpcdn.net": {
        "live-smbili.v.trpcdn.net": {
          "ipv4": 7,
          "ipv6": 0
        }
      }
    },
    "d1--ov-gotcha106.bilivideo.com": {
      "d1--ov-gotcha106.bilivideo.com.trpcdn.net": {
        "live-smbili.v.trpcdn.net": {
          "ipv4": 7,
          "ipv6": 0
        }
      }
    },
    "d1--ov-gotcha206.bilivideo.com": {
      "d1--ov-gotcha206.bilivideo.com.trpcdn.net": {
        "live-smbili.v.trpcdn.net": {
          "ipv4": 7,
          "ipv6": 0
        }
      }
    },
    "d1--ov-gotcha07.bilivideo.com": {
      "d1--ov-gotcha07.bilivideo.com.a.bcelive.com": {
        "d1--ov-gotcha07.bilivideo.com.zengslb.com": {
          "zenlive002.zengslb.net": {
            "ipv4": 5,
            "ipv6": 0
          }
        }
      }
    },
    "d1--ov-gotcha210.bilivideo.com": {
      "d1-ov-gotcha210.akamaized.net": {
        "a495.dscz.akamai.net": {
          "ipv4": 2,
          "ipv6": 2
        }
      }
    }
  },
  "map": {
    "c1--cn-gotcha01.bilivideo.com": {
      "prefix": "c1",
      "region": "cn",
      "type": "",
      "id": "01"
    },
    "d1--cn-gotcha01.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "",
      "id": "01"
    },
    "d1--cn-gotcha02.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "",
      "id": "02"
    },
    "d1--cn-gotcha102.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "1",
      "id": "02"
    },
    "d1--cn-gotcha202.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "2",
      "id": "02"
    },
    "c1--cn-gotcha03.bilivideo.com": {
      "prefix": "c1",
      "region": "cn",
      "type": "",
      "id": "03"
    },
    "d1--cn-gotcha03.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "",
      "id": "03"
    },
    "d1--cn-gotcha103.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "1",
      "id": "03"
    },
    "d1--cn-gotcha203.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "2",
      "id": "03"
    },
    "d1--cn-gotcha04.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "",
      "id": "04"
    },
    "d1--cn-gotcha104.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "1",
      "id": "04"
    },
    "d1--cn-gotcha204.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "2",
      "id": "04"
    },
    "d1--cn-gotcha05.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "",
      "id": "05"
    },
    "d1--cn-gotcha105.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "1",
      "id": "05"
    },
    "d1--cn-gotcha06.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "",
      "id": "06"
    },
    "d1--cn-gotcha106.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "1",
      "id": "06"
    },
    "d1--cn-gotcha206.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "2",
      "id": "06"
    },
    "d1--cn-gotcha07.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "",
      "id": "07"
    },
    "c1--cn-gotcha08.bilivideo.com": {
      "prefix": "c1",
      "region": "cn",
      "type": "",
      "id": "08"
    },
    "d1--cn-gotcha08.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "",
      "id": "08"
    },
    "d1--cn-gotcha108.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "1",
      "id": "08"
    },
    "c1--cn-gotcha208.bilivideo.com": {
      "prefix": "c1",
      "region": "cn",
      "type": "2",
      "id": "08"
    },
    "d1--cn-gotcha208.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "2",
      "id": "08"
    },
    "d1--cn-gotcha09.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "",
      "id": "09"
    },
    "d1--cn-gotcha209.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "2",
      "id": "09"
    },
    "d1--cn-gotcha11.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "",
      "id": "11"
    },
    "d1--cn-gotcha111.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "1",
      "id": "11"
    },
    "d1--cn-gotcha211.bilivideo.com": {
      "prefix": "d1",
      "region": "cn",
      "type": "2",
      "id": "11"
    },
    "d1--ov-gotcha102.bilivideo.com": {
      "prefix": "d1",
      "region": "ov",
      "type": "1",
      "id": "02"
    },
    "d1--ov-gotcha04.bilivideo.com": {
      "prefix": "d1",
      "region": "ov",
      "type": "",
      "id": "04"
    },
    "d1--ov-gotcha104.bilivideo.com": {
      "prefix": "d1",
      "region": "ov",
      "type": "1",
      "id": "04"
    },
    "d1--ov-gotcha05.bilivideo.com": {
      "prefix": "d1",
      "region": "ov",
      "type": "",
      "id": "05"
    },
    "d1--ov-gotcha105.bilivideo.com": {
      "prefix": "d1",
      "region": "ov",
      "type": "1",
      "id": "05"
    },
    "d1--ov-gotcha06.bilivideo.com": {
      "prefix": "d1",
      "region": "ov",
      "type": "",
      "id": "06"
    },
    "d1--ov-gotcha106.bilivideo.com": {
      "prefix": "d1",
      "region": "ov",
      "type": "1",
      "id": "06"
    },
    "d1--ov-gotcha206.bilivideo.com": {
      "prefix": "d1",
      "region": "ov",
      "type": "2",
      "id": "06"
    },
    "d1--ov-gotcha07.bilivideo.com": {
      "prefix": "d1",
      "region": "ov",
      "type": "",
      "id": "07"
    },
    "d1--ov-gotcha210.bilivideo.com": {
      "prefix": "d1",
      "region": "ov",
      "type": "2",
      "id": "10"
    }
  }
}
cdn_provider_map:
  "01": B站自建 (B站视频云)
  "02": 金山云
  "03": 七牛云 (阿里云)
  "04": 腾讯云
  "05": 网宿
  "06": 白山云
  "07": 百度云
  "08": 华为云
  "09": 阿里云
  "10": Akamai
  "11": 京东云
cdn_type_map:
  "": FLV
  "1": HLS (ts)
  "2": HLS (fmp4)
cdn_region_map:
  ov: 海外
  cn: 中国大陆
---

# 直播 CDN 信息

本页面收集了一些B站直播 CDN 相关的信息，我也不知道可能会有什么用。

目前B站直播使用了以下几家 CDN:

{% for key, value in cdn_provider_map.items() %}
- {{ value }}
{% endfor %}

国内最常见的是 B站自建 (B站视频云)、腾讯云、华为云。

地名拼音开头的域名也是B站自建的CDN，在本页的 [B站自建 CDN 节点](#b站自建-cdn-节点) 段落给出了部分域名格式示例。
## CDN 服务商域名

DNS 信息更新日期: {{ page.meta.cdn_dns_data.time }}。  
IP 个数指的是一次 DNS 请求返回的数量（显然不可能是总数）。  
因为有 GeoDNS 的存在，不同地区的请求结果会不一样，以下信息仅供参考。

{% set 有 = '有 :fontawesome-solid-check:{ style="color:green" }, ' -%}
{% set 无 = '无 :fontawesome-solid-xmark:{ style="color:red" }' -%}

-----

{% for domain in page.meta.cdn_dns_data.dns -%}
{% set dns = page.meta.cdn_dns_data.dns[domain] -%}
{% set map = page.meta.cdn_dns_data.map[domain] -%}

### {{ domain }}

| 服务商 | 直播流类型 | 服务区域 |
| ----- | ---------- | ------- |
| {{ cdn_provider_map[map.id] }} | {{ cdn_type_map[map.type] }} | {{ cdn_region_map[map.region] }}  |

CNAME 指向链：

- `{{ domain }}`
{%- for key, value in dns.items() recursive -%}
  {%- if key == 'ipv4' -%}
    {{  "\n" ~ ("    " * loop.depth) }}- IPv4: {{ 有 ~ value ~ ' 个' if value else 无}}
  {%- elif key == 'ipv6' -%}
    {{  "\n" ~ ("    " * loop.depth) }}- IPv6: {{ 有 ~ value ~ ' 个' if value else 无}}
  {%- else -%}
    {{  "\n" ~ ("    " * loop.depth) }}- `{{ key }}`
    {%- if value is mapping -%}
      {{ loop(value.items())}}
    {%- else -%}
      : {{value}}
    {%- endif -%}
  {%- endif -%}
{%- endfor %}

-----

{% endfor %}

## B站自建 CDN 节点

这部分之后还可以再完善一下。

目前发现大概有两种命名方式的域名。

```txt
cn-hbsjz-cm-02-08.bilivideo.com
cn-hbsjz-cm-02-09.bilivideo.com
cn-hbsjz-cm-02-10.bilivideo.com
cn-gddg-ct-01-22.bilivideo.com
cn-hbwh-cm-01-13.bilivideo.com

cn-hbyc-ct-02-27.bilivideo.com

cn-hbyc2-dx-live-05.bilivideo.com

cn-zjhz-cmcc-live-01.bilivideo.com
```
