---
title: 录播姬 3.0 测试说明
---

## 用前须知

- 测试版不会自动更新，需要手动下载更新。测试版更新频率可能会非常高，请记得随时更新。
- 使用测试版可能会遇到各种各样的问题，无论使用的是不是最新的测试版，都请把遇到的问题全部反馈给开发者。
- 已知问题列在本页面的下面，如果遇到了类似问题也请反馈，因为你遇到的可能是看起来类似但实际上不同的问题。
- 反馈问题时请带上测试版的 **完整** 版本号。
- 测试版的版本号数字部分不准确，是自动递增生成的。请以后面的 commit hash 为准。

## 测试版下载

暂无

## 已知问题

- 暂不支持自动分段、手动分段功能
- 在特定情况下输出的文件前几秒无法解码（即开头不是 I 帧）

## 文件名模板

本文几乎所有内容都待定，只是初步设计。如有意见建议可以提出讨论。

录播姬 3 中文件名模板的行为如下

假设模板内容为：

```liquid
{{ roomId }}-{{ name }}/录制-{{ roomId }}-{{ "now" | time_zone: "Asia/Shanghai" | format_date: "yyyyMMdd-HHmmss-fff" }}-{{ title }}
```

配置文件升级时会把旧版本中模板结尾的 `.flv` 自动删除

模板运行的结果输出为

```
23058-3号直播间/录制-23058-20220505-225933-067-哔哩哔哩音悦台
```

实际生成的 FLV 文件名会在上面的基础上添加 `.flv` 变成下面这样，相当于与之前的版本一样。

```
23058-3号直播间/录制-23058-20220505-225933-067-哔哩哔哩音悦台.flv
```

输出的弹幕文件也保持不变，仍然是

```
23058-3号直播间/录制-23058-20220505-225933-067-哔哩哔哩音悦台.xml
```

HLS 录制，输出播放列表+散切片的模式（模式名待定）的文件名如下：

```
23058-3号直播间/录制-23058-20220505-225933-067-哔哩哔哩音悦台.m3u8
23058-3号直播间/录制-23058-20220505-225933-067-哔哩哔哩音悦台/000001.m4s
23058-3号直播间/录制-23058-20220505-225933-067-哔哩哔哩音悦台/000002.m4s
...
```

HLS 录制，输出播放列表+单文件的模式（模式名待定）的文件名如下：

```
23058-3号直播间/录制-23058-20220505-225933-067-哔哩哔哩音悦台.m3u8
23058-3号直播间/录制-23058-20220505-225933-067-哔哩哔哩音悦台.mp4
```

HLS 录制，只输出单文件的模式（模式名待定）的文件名如下：

```
23058-3号直播间/录制-23058-20220505-225933-067-哔哩哔哩音悦台.mp4
```
